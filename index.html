<!DOCTYPE html>
<html class=''>

<head>
    <meta charset='UTF-8'>
    <meta name="robots" content="noindex">

    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css'>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css'>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css'>
    <style class="cp-pen-styles">
        @import url("https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,600,700&subset=latin-ext");
    </style>
    <link rel="stylesheet" href="./styles/dashboard.css">
    <link rel="stylesheet" href="./styles/vue-accordion-component.css">
    <link rel="stylesheet" href="./styles/custom-styles.css">
</head>

<body>

    <body class="sidebar-is-reduced">
        <header class="l-header">
            <div class="l-header__inner clearfix">
                <div class="c-header-icon js-hamburger">
                    <div class="hamburger-toggle">
                        <span class="bar-top"></span>
                        <span class="bar-mid"></span>
                        <span class="bar-bot"></span>
                    </div>
                </div>
                <div class="c-header-icon has-dropdown">
                    <span class="c-badge c-badge--header-icon animated shake">87</span>
                    <i class="fa fa-bell"></i>
                    <div class="c-dropdown c-dropdown--notifications">
                        <div class="c-dropdown__header"></div>
                        <div class="c-dropdown__content"></div>
                    </div>
                </div>
                <div class="c-search">
                    <input class="c-search__input u-input" placeholder="Search..." type="text" />
                </div>
                <div class="header-icons-group">
                    <div class="c-header-icon basket">
                        <span class="c-badge c-badge--header-icon animated shake">12</span>
                        <i class="fa fa-shopping-basket"></i>
                    </div>
                    <div class="c-header-icon logout">
                        <i class="fa fa-power-off"></i>
                    </div>
                </div>
            </div>
        </header>
        <div class="l-sidebar">
            <div class="logo">
                <div class="logo__txt">D</div>
            </div>
            <div class="l-sidebar__content">
                <nav class="c-menu js-menu">
                    <ul class="u-list">
                        <li class="c-menu__item is-active" data-toggle="tooltip" title="Flights">
                            <div class="c-menu__item__inner">
                                <i class="fa fa-plane"></i>
                                <div class="c-menu-item__title">
                                    <span>Flights</span>
                                </div>
                            </div>
                        </li>
                        <li class="c-menu__item has-submenu" data-toggle="tooltip" title="Modules">
                            <div class="c-menu__item__inner">
                                <i class="fa fa-puzzle-piece"></i>
                                <div class="c-menu-item__title">
                                    <span>Modules</span>
                                </div>
                                <div class="c-menu-item__expand js-expand-submenu">
                                    <i class="fa fa-angle-down"></i>
                                </div>
                            </div>
                            <ul class="c-menu__submenu u-list">
                                <li>Payments</li>
                                <li>Maps</li>
                                <li>Notifications</li>
                            </ul>
                        </li>
                        <li class="c-menu__item has-submenu" data-toggle="tooltip" title="Statistics">
                            <div class="c-menu__item__inner">
                                <i class="fa fa-bar-chart"></i>
                                <div class="c-menu-item__title">
                                    <span>Statistics</span>
                                </div>
                            </div>
                        </li>
                        <li class="c-menu__item has-submenu" data-toggle="tooltip" title="Gifts">
                            <div class="c-menu__item__inner">
                                <i class="fa fa-gift"></i>
                                <div class="c-menu-item__title">
                                    <span>Gifts</span>
                                </div>
                            </div>
                        </li>
                        <li class="c-menu__item has-submenu" data-toggle="tooltip" title="Settings">
                            <div class="c-menu__item__inner">
                                <i class="fa fa-cogs"></i>
                                <div class="c-menu-item__title">
                                    <span>Settings</span>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </body>

    <!-- The Main Vue Instance -->
    <main class="l-main content-wrapper content-wrapper--with-bg" id="vue-app" v-cloak>
        <div class="row">
            <div class="col-sm-10 col-sm-offset-1">
                <vue-accordion-component></vue-accordion-component>
                <vue-json-inputter-component></vue-json-inputter-component>
            </div>
        </div>
    </main>


    <!-- The Vue Accordion Component Template -->
    <template id="vue-accordion-component">
        <div class="">
            <h1 class="page-title">Dashboard</h1>
            <div class="panel panel-default">

                <div class="panel-heading">
                    <h3>Hello {{ username }}, you have {{ requestData.length }} shipments:</h3>
                </div>

                <table class="table table-condensed" style="border-collapse:collapse;" v-show="!loading">
                    <thead>
                        <tr>
                            <th>Status</th>
                            <th>Internal Reference</th>
                            <th>Carrier</th>
                            <th>Vessel</th>
                            <th>POL</th>
                            <th>Cutoff*</th>
                            <th>ETD</th>
                            <th>POD</th>
                            <th>Price ($USD)</th>
                            <th>No. of Containers</th>
                            <th>Details</th>
                        </tr>
                    </thead>

                    <tbody v-for="(shipment, index) in requestData" class="table table-condensed" style="border-collapse:collapse;" v-show="!loading">
                        <tr>
                            <div class="timeline-item" v-if="loading">
                                <div class="animated-background">
                                    <div class="background-masker header-top"></div>
                                    <div class="background-masker header-left"></div>
                                    <div class="background-masker header-right"></div>
                                    <div class="background-masker header-bottom"></div>
                                    <div class="background-masker subheader-left"></div>
                                    <div class="background-masker subheader-right"></div>
                                    <div class="background-masker subheader-bottom"></div>
                                    <div class="background-masker content-top"></div>
                                    <div class="background-masker content-first-end"></div>
                                    <div class="background-masker content-second-line"></div>
                                    <div class="background-masker content-second-end"></div>
                                    <div class="background-masker content-third-line"></div>
                                    <div class="background-masker content-third-end"></div>
                                </div>
                            </div>
                        </tr>
                        <tr @click="shipment.isOpen = !shipment.isOpen" class="accordion-toggle table-hover">
                            <td class="text-success text-uppercase text-bold">
                                <!-- Conditional based on a carrier reference ID -->
                                Confirmed
                            </td>
                            <td>{{ shipment.InternalReference }}</td>
                            <td>{{ shipment.CarrierName }}</td>
                            <td>{{ shipment.VesselName }}</td>
                            <td>
                                <a target="_blank" :href="'https://maps.google.com/?q=' + shipment.PortOfLoadName">
                                    {{ shipment.PortOfLoadName }}
                                </a>
                            </td>
                            <td>15-Apr-18</td>
                            <td>16-Apr-18</td>
                            <td>
                                <a target="_blank" :href="'https://maps.google.com/?q=' + shipment.PortOfDischargeName">
                                    {{ shipment.PortOfDischargeName }}
                                </a>
                            </td>
                            <td>{{ shipment.FreightCost }}</td>
                            <td>{{ shipment.EquipmentDetails.length }}</td>
                            <td>
                                <span class="pull-left glyphicon glyphicon-download-alt"></span>
                                <span onclick="confirm('Are you sure you want to delete this shipment?')" class=" pull-right glyphicon glyphicon-remove-circle"></span>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="12" class="hiddenRow" v-show="shipment.isOpen">
                                <div class="accordian-body collapse" :class="{ 'in': shipment.isOpen }">
                                    <table class="table table-striped hidden-table">
                                        <tbody>
                                            <tr>
                                                <th>Voyage Number:</th>
                                                <td>{{ shipment.VoyageNumber }}</td>

                                                <th>Empty Pickup Address:</th>
                                                <td>{{ shipment.BookingData[0].EmptyPickUpLocation }}</td>

                                                <th>Full Dropoff Location:</th>
                                                <td>{{ shipment.BookingData[0].FullDropOffLocation }}</td>
                                            </tr>
                                            <tr>
                                                <th>Carrier Reference Number:</th>
                                                <td>{{ shipment.BookingData[0].CarrierReferenceNumber }}</td>

                                                <th>Earliest Empty Pickup:</th>
                                                <td>{{ shipment.BookingData[0].EarliestEmptyPickUpDate }}</td>
                                                
                                                <th>Earliest Full Dropoff:</th>
                                                <td>{{ shipment.BookingData[0].EarliestFullDropOff }}</td>
                                            </tr>
                                            <tr>
                                                <th>Container Release Number:</th>
                                                <td>{{ shipment.BookingData[0].ContainerReleaseNumber }}</td>

                                                <th>Latest Full Dropoff:</th>
                                                <td>{{ shipment.BookingData[0].LatestFullDeliveryDate }}</td>
                                                
                                                <th>Forwarder:</th>
                                                <td>{{ shipment.VoyageNumber }}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>

            </div><!-- end .page-content -->
        </div><!-- end .content-wrapper -->
    </template>


    <!-- JSON Input Area -->
    <template id="vue-json-inputter-component">
        <div>
            <div class="form-group">
                <label for="comment">Input JSON here:</label>
                <label class="checkbox-inline"><input type="radio" name="checkbox" value="">Booking Data</label>
                <label class="checkbox-inline"><input type="radio" name="checkbox" value="">Schedule Data</label>
                <button class="btn btn-default" style="margin-left: 15px;">Add Data</button>
                <textarea class="form-control json-textarea" rows="5"></textarea>
            </div> 
        </div>
    </template>



    <!-- JS stuff -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js'></script>
    <script src='https://use.fontawesome.com/2188c74ac9.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js'></script>

    <script src="./scripts.js"></script>
    <script src="./vue-components.js"></script>
</body>
</html>